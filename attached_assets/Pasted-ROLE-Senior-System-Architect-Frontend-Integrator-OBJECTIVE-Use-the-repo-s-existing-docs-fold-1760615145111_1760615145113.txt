ROLE: Senior System Architect & Frontend Integrator
OBJECTIVE: Use the repo’s existing `/docs` folder (already uploaded) to publish a premium, buildless documentation experience hosted by the current Replit app, styled to match the site. Add ONLY one footer link “Documentation” → `/docs/`. Zero breaking changes, zero framework swaps, zero Netlify.

GUARDRAILS
- Do NOT modify app runtime behavior beyond adding a footer link.
- Idempotent: re-running updates in place, no duplicates.
- No new server deps; use static assets under `/public/docs`.
- Preserve brand: read existing Tailwind/CSS tokens and fonts; mirror dark mode.
- Swagger UI must read `/docs/openapi.yaml` (if present).

ASSUMPTIONS
- The user has uploaded a `/docs` folder containing:
  - Markdown files (e.g., 00_repo-inventory.md, 10_architecture.md, …, 99_docs-readiness-report.md)
  - `openapi.yaml` (OpenAPI 3.x)
- App is Next.js (or static server that serves `/public` at `/`).

DELIVERABLES

1) STATIC DOCS VIEWER (buildless)
- Create `public/docs/assets/` with:
  - `docs.css` – derive colors/typography from existing site:
    - If `tailwind.config.*` exists, read `theme.extend.colors` + font families.
    - If `styles/globals.css` or similar exists, extract `:root` CSS vars; fallback to system fonts.
    - Ensure elegant typography, tables, blockquotes, code blocks (include Prism base).
    - Respect dark mode using `@media (prefers-color-scheme: dark)` and add a lightweight dark toggle (class `dark` on `<html>`).
  - `docs.js` – vanilla JS router to:
    - Fetch `/docs/_toc.json` to build sidebar.
    - Load `*.md` via `fetch` then render with `marked` (CDN) and highlight with `Prism` (CDN).
    - Preserve scroll, add heading anchors, and a client-side search (title/content filter) with a small index built from `_toc.json`.
  - `vendor/marked.min.js` and `vendor/prism.min.js` – pull from CDN in `index.html` (no bundling).
- Create `public/docs/index.html`:
  - Responsive 2-pane layout (sticky sidebar + content).
  - Topbar with project name “Lendgismo Docs”, search input, and dark-mode toggle.
  - Loads `assets/docs.css`, `assets/docs.js`, `marked` and `prism` from CDN.
  - Default route loads `40_features-overview.md` (fallback to first TOC item).
- Create `public/docs/404.html` with a simple “Doc not found” + link back to `/docs/`.

2) TOC GENERATION
- Generate `docs/_toc.json` by scanning `/docs` for `*.md` (ignore `_*.md` except `_index.md` if any).
  - Shape:
    [
      { "title": "Overview", "file": "40_features-overview.md" },
      { "title": "Architecture", "file": "10_architecture.md" },
      ...
    ]
  - Order heuristics: numerical prefixes if present (00_, 10_, 11_, 12_, 20_, 21_, 22_, 30_, 31_, 40_, 50_, 60_, 99_), otherwise alpha.
- Idempotent: re-create/overwrite `_toc.json` on each run.

3) SWAGGER UI (buildless)
- Create `public/docs/api/index.html` that mounts Swagger UI (via `https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js`) pointing to `/docs/openapi.yaml`.
- Add minimal inline CSS to match `docs.css` typography and inherit brand colors.
- If `/docs/openapi.yaml` missing, show a friendly note with path expectations.

4) FOOTER LINK (single addition)
- Locate the site Footer component (`Footer.tsx|tsx|jsx`, common paths: `components/Footer*`, `src/components/Footer*`, or layout footer).
- If no “Documentation” link exists, add one (exact text: `Documentation`) pointing to `/docs/`.
- Style: match other footer links; if tokens exist (e.g., `text-muted-foreground`, `hover:text-foreground`), reuse them.
- Ensure this is the ONLY new nav entry (footer only; do NOT add to header).

5) BRAND & THEME SYNC
- Extract primary brand color and font from existing config:
  - Tailwind: `theme.extend.colors` (use `primary` as base if defined).
  - Fonts: check global CSS `--font-…` or Tailwind fontFamily.
- Apply to `docs.css` as CSS variables:
  :root {
    --brand: <detected primary>;
    --bg: <site bg>;
    --fg: <site text>;
    --muted: <muted>;
    --accent: <secondary/accent>;
    --font-sans: <detected font stack>;
  }
- Mirror dark mode using prefers-color-scheme AND class-based override.
- Code blocks: Prism “okaidia” or “one-dark” via CDN (whichever blends better with site tokens).

6) QUALITY/ACCESSIBILITY
- Ensure semantic landmarks (nav, main, aside), focus outlines, skip-to-content link.
- Heading levels preserved from Markdown; generate anchor links.
- Tables: responsive (wrap in `.table-wrap` with horizontal scroll).

7) SAFETY CHECKS
- Do NOT rename or move files inside `/docs`.
- Do NOT introduce build steps or frameworks (no Docusaurus, no Astro).
- Do NOT touch CI/CD.
- Confirm that visiting `/docs/` serves `public/docs/index.html` and `/docs/api/` serves Swagger.

8) ACCEPTANCE TEST (print at end)
- ✅ `/docs/` loads with sidebar, search, dark toggle, and renders `40_features-overview.md`.
- ✅ `/docs/api/` shows Swagger UI referencing `/docs/openapi.yaml`.
- ✅ Footer displays a single “Documentation” link; styled consistently.
- ✅ Dark mode matches site; code blocks highlighted.
- ✅ All headings in `_toc.json` navigate and load instantly.
- ✅ No changes to app build or runtime; Lighthouse basics pass.

IMPLEMENTATION DETAILS (FILE CONTENT SKETCHES)

A) `public/docs/index.html`
- Minimal HTML scaffold with:
  - `<link rel="stylesheet" href="/docs/assets/docs.css">`
  - `<script src="https://unpkg.com/marked/marked.min.js"></script>`
  - `<script src="https://unpkg.com/prismjs/prism.js"></script>`
  - `<script src="/docs/assets/docs.js" defer></script>`
  - Root layout:
    <div class="docs-app">
      <aside id="sidebar"></aside>
      <main id="content"></main>
    </div>

B) `public/docs/assets/docs.css`
- Use detected tokens; elegant typography; sticky sidebar; responsive; prefers-color-scheme.

C) `public/docs/assets/docs.js`
- Fetch `/docs/_toc.json`
- Build sidebar links
- Router: read `?p=<file.md>` or hash; default to first TOC entry
- Fetch markdown from `/docs/<file>` → render with `marked`
- After render, run `Prism.highlightAll()`
- Simple in-page search over loaded titles/snippets

D) `public/docs/api/index.html`
- Load Swagger UI bundle from unpkg CDN; initialize with:
  url: '/docs/openapi.yaml',
  dom_id: '#swagger',
  layout: 'BaseLayout',
  deepLinking: true

REPORT
- At completion, output a brief summary with:
  - Detected brand color + fonts used
  - Footer component patched (path)
  - Files created/updated
  - Direct test links: `/docs/` and `/docs/api/`
Quick tips
After it runs, open /docs/ and /docs/api/ on your Replit web preview.

If your OpenAPI file name is different, rename it to openapi.yaml inside /docs/.

If you later add/edit Markdown in /docs, just rerun the prompt to refresh _toc.json (it’s idempotent)